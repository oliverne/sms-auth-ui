!function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(s,i,function(t){return e[t]}.bind(null,i));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=7)}([function(e,t,n){e.exports={terms:"_1AiXHKnMLRjiT6Ltg1T3h3",agrees:"_12z1kZyElQVhrD4ggiTBcB",field:"b-oScD0RQ65--jrDA7zzu",cb:"_1yzBy5e1I9pmby4cCK1kxt",label:"_3SRmt_oenfia1vOFWhMdkm",agreeAll:"_1KsJq0HyYDNnKxcUa6F83i",allChecked:"_1ZzkggRzBm_YnOi48F890v"}},function(e,t,n){e.exports={main:"_4VJVVkQcnFWXnntDHrcZL",header:"_2puRl_1pzE2GgM3KcQkqNN",title:"_3r-XM0fXc-wIVA-SgzN9wi",desc:"iMs34KC1EFOPqqBRheTuu",form:"_3csEUaZ2Xr9FKhn8PEBFDw",iconQuestion:"_1Z94NSBMQTcEBBI5tXDDtn",notice:"_1qfiDJOO5eXXDndok8QbfC",submit:"_2JrULxvnHgTC5yC7qBIBhA",submitButton:"_2Y2lR3PFgsodtTJX1cGye0"}},function(e,t,n){e.exports={field:"_1ZpAFfS-1n3i9yREm4diTn",label:"_3t1nS8Z5VlbYxnCF58treu",input:"_3pliChAPleHzMk3mo0rTe8",invalid:"_3WaRuh2D-XGBUeMGAyq_a"}},function(e,t,n){e.exports={field:"RcqHhH9LfLXxnznP4lkim",label:"_2BQIwULKd7xZUOsTqizQ_X",select:"_1M0ihDhpTa89K62mfjEzYx"}},function(e){e.exports=JSON.parse('[{"termsId":"1","title":"본인확인 이용동의","required":true},{"termsId":"2","title":"개인 정보 수집/이용/취급 위탁동의","required":true},{"termsId":"3","title":"고유식별번호 처리 동의","required":true},{"termsId":"4","title":"(선택) 광고성 정보 수신 동의","required":false}]')},function(e){e.exports=JSON.parse('[{"code":"SKT","description":"SKT"},{"code":"KT","description":"KT"},{"code":"LGT","description":"LG U+"},{"code":"SKTMVNO","description":"SKT 알뜰폰"},{"code":"KTMVNO","description":"KT 알뜰폰"},{"code":"LGTMVNO","description":"LG U+ 알뜰폰"}]')},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(6);var s=n(1),i=n.n(s);var a=`\n  <div class="${i.a.main}">\n    <header class="${i.a.header}">\n      <h1 class="${i.a.title}">입력정보</h1>\n      <h2 class="${i.a.desc}">본인 명의의 휴대폰 정보를 입력하세요</h2>\n    </header>\n\n    <div class="${i.a.form}">\n      <custom-select field-index="1" state-key="carrierCode" value="" label="통신사"></custom-select>\n\n      <custom-input field-index="2" state-key="phoneNumber" value="" label="휴대폰 번호" max-length="13"></custom-input>\n      <custom-input field-index="3" state-key="registerNumber" value="" label="주민등록번호" max-length="8"></custom-input>\n      <custom-input field-index="4" state-key="name" value="" label="이름" max-length="10"></custom-input>\n\n      <div class="${i.a.notice}">\n        <i class="${i.a.iconQuestion}"></i>\n        <span class=${i.a.noticeDetail}>\n          모든 정보가 올바르게 입력되었음에도\n          인증번호 요청이 되지 않는 경우 가입하신 통신사에 문의해주세요.\n        </span>\n      </div>\n\n      <terms-box state-key="termsCode" value="[]"></terms-box>\n\n      <div class="${i.a.submit}">\n        <button type="submit" disabled class="${i.a.submitButton}">인증번호요청</button>\n      </div>\n    </div>\n  </div>\n`,l=n(4),r=n(5);const c={name:"",registerNumber:"",carrierCode:"",phoneNumber:"",termsCode:[]};class d extends HTMLElement{constructor(){super(),this.handleStateUpdated=e=>{if(!this.submitButton)return;const t=e.target;if(t instanceof HTMLElement){const e="valid"===t.getAttribute("valid"),n=t.getAttribute("field-index")||"-1",s=parseInt(n,10);if(s>0){const t=this.querySelector(`[field-index="${s+1}"]`);if(e&&t){const e=t.querySelector("input");e&&e.focus()}}}this.checkAllStatesValid()?this.submitButton.removeAttribute("disabled"):this.submitButton.setAttribute("disabled","disabled"),this.updateState()},this.handleSubmitOnly=e=>{e.target instanceof HTMLButtonElement&&"submit"===e.target.type.toLocaleLowerCase()&&"disabled"!==e.target.getAttribute("disabled")&&(console.log("Result:",this.state),alert("API 서버에 요청을 할 타이밍입니다. 콘솔 창을 확인하세요."))},this.template=a,this.terms=l,this.carriers=r,this.state=c,this.submitButton=null,this.addEventListener("state-updated",this.handleStateUpdated),this.addEventListener("click",this.handleSubmitOnly)}connectedCallback(){this.render(),this.submitButton=this.querySelector("button[type=submit]")}updateState(){const e=this.querySelectorAll("[state-key]"),t=c;e.forEach(e=>{const n=e.getAttribute("state-key"),s=e.getAttribute("value");n&&(t[n]=s&&/^\[.*\]$/.test(s)?JSON.parse(s):s||"")}),this.state=Object.assign({},t)}checkAllStatesValid(){return Object.keys(this.state).every(e=>{var t;return"valid"===(null===(t=this.querySelector(`[state-key=${e}]`))||void 0===t?void 0:t.getAttribute("valid"))})}render(){this.innerHTML=this.template;const e=this.querySelector("[state-key=carrierCode]");e&&e.setAttribute("list",JSON.stringify(this.carriers));const t=this.querySelector("[state-key=termsCode]");t&&t.setAttribute("list",JSON.stringify(this.terms))}}d.tag="app-root";var u=n(2),o=n.n(u);function h(e){if("string"!=typeof e)return[!1,"",""];const t=e.replace(/\D+/g,"");let n=t;if(t.length>3){n=`${t.slice(0,3)} ${t.slice(3)}`}if(t.length>7){n=`${t.slice(0,3)} ${t.slice(3,6)} ${t.slice(6)}`}if(t.length>10){n=`${t.slice(0,3)} ${t.slice(3,7)} ${t.slice(7)}`}const s=n.replace(/\s/g,""),i=s.length;return[i>=10&&i<=11,n,s]}function p(e){const t=e.replace(/\D+/g,"");let n=t;if(t.length>6){n=`${t.slice(0,6)}-${t.slice(6)}`.slice(0,8)}const s=/\d\d\d\d\d\d-\d/.test(n),i=n.replace(/-/g,"");return[s,n,i]}function m(e){const t=e.replace(/[^ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/g,""),n=t;return[/[ㄱ-ㅎ|ㅏ-ㅣ|가-힣]/g.test(t)&&t.length>=2,t,n]}class b extends HTMLElement{constructor(){super(),this.handleInput=e=>{if(this.input&&e.target instanceof HTMLInputElement){const[t,n,s]=this.validate(e.target.value);this.setAttribute("value",s),this.input.value=n,t?(this.setAttribute("valid","valid"),this.classList.remove(o.a.invalid)):this.removeAttribute("valid"),this.emitUpdate()}},this.handleChange=e=>{e.target instanceof HTMLInputElement&&("valid"!==this.getAttribute("valid")&&this.classList.add(o.a.invalid),this.emitUpdate())};const e=this.getAttribute("state-key")||"__undefined__";this.validate=function(e){switch(e){case"phoneNumber":return h;case"registerNumber":return p;case"name":return m;default:return e=>[!1,e,e]}}(e),this.input=null,this.addEventListener("keyup",this.handleInput),this.addEventListener("change",this.handleChange)}connectedCallback(){this.render(),this.input=this.querySelector("input")}emitUpdate(){this.dispatchEvent(new CustomEvent("state-updated",{bubbles:!0,cancelable:!0}))}render(){const e=this.getAttribute("label")||"",t=this.getAttribute("value")||"",n=this.getAttribute("max-length")||"";this.innerHTML=`\n      <div class="${o.a.field}">\n        <label class="${o.a.label}">${e}</label>\n        <input type="text" value="${t}" class="${o.a.input}" maxlength="${n}">\n      </div>\n    `}}b.tag="custom-input";var v=n(3),f=n.n(v);class g extends HTMLElement{constructor(){super(),this.handleSelectChanged=e=>{const t=e.target;if(!(t instanceof HTMLSelectElement))return;const{value:n}=t.options[t.selectedIndex];this.setAttribute("value",n),this.setAttribute("valid","valid"),this.dispatchEvent(new CustomEvent("state-updated",{bubbles:!0,cancelable:!0}))},this.select=null}static get observedAttributes(){return["list"]}connectedCallback(){this.render(),this.select=this.querySelector("."+f.a.select),this.select&&this.select.addEventListener("change",this.handleSelectChanged)}attributeChangedCallback(e,t,n){if("list"===e&&t!==n)try{this.populateOptions(JSON.parse(n)),this.selectDefaultOption()}catch(e){console.log("통신사 정보가 잘못되었습니다.")}}populateOptions(e){if(!this.select)return;const t=document.createDocumentFragment();e.forEach(e=>{const n=document.createElement("option");n.value=e.code,n.innerText=e.description,t.appendChild(n)}),this.select.appendChild(t)}selectDefaultOption(){var e;if(!this.select)return;const t=null===(e=this.select)||void 0===e?void 0:e.options[0];this.select.value=t.value,this.select.dispatchEvent(new CustomEvent("change"))}render(){const e=this.getAttribute("label");this.innerHTML=`\n      <div class="${f.a.field}">\n        <label class="${f.a.label}">${e}</label>\n        <select class="${f.a.select}">\n        </select>\n      </div>\n    `}}g.tag="custom-select";var y=n(0),A=n.n(y);class S extends HTMLElement{constructor(){super(...arguments),this.handleClick=e=>{if(e.target instanceof HTMLInputElement){this.handleCheck();const e=this.querySelector("."+A.a.agreeAll);e&&e.classList.remove(A.a.allChecked)}else e.target instanceof HTMLButtonElement&&this.handleAgreeAll(e)},this.handleAgreeAll=e=>{e.preventDefault(),this.querySelectorAll("input").forEach(e=>{e.checked=!0});const t=this.querySelector("."+A.a.agreeAll);t&&t.classList.add(A.a.allChecked),this.validate()},this.handleCheck=()=>{this.validate()}}static get observedAttributes(){return["list"]}connectedCallback(){this.render(),this.addEventListener("click",this.handleClick)}attributeChangedCallback(e,t,n){if("list"===e&&t!==n)try{this.populateAgreements(JSON.parse(n))}catch(e){console.log("약관 정보가 잘못되었습니다.")}}validate(){const e=Array.from(this.querySelectorAll("input")),t=e.filter(e=>"true"===e.dataset.required).every(e=>e.checked),n=e.filter(e=>e.checked).map(e=>e.value);this.setAttribute("value",JSON.stringify(n)),t?this.setAttribute("valid","valid"):this.removeAttribute("valid"),this.dispatchEvent(new CustomEvent("state-updated",{bubbles:!0,cancelable:!0}))}populateAgreements(e){const t=document.createDocumentFragment();e.forEach(e=>{const n=document.createElement("div");n.classList.add(A.a.field);const s="term__"+e.termsId;n.innerHTML=`\n        <input\n          id="${s}"\n          type="checkbox"\n          value="${e.termsId}"\n          data-required="${e.required}"\n          class="${A.a.cb}"\n        ><label for="${s}" class="${A.a.label}">${e.title}</label>\n      `,t.appendChild(n)});const n=this.querySelector("."+A.a.agrees);n&&n.appendChild(t)}render(){this.innerHTML=`\n      <div class="${A.a.terms}">\n        <div class="${A.a.agrees}">\n        </div>\n        <div class="${A.a.field}">\n          <button type="button" class="${A.a.agreeAll}">전체 동의하기</button>\n        </div>\n      </div>\n    `}}S.tag="terms-box",customElements.define(d.tag,d),customElements.define(b.tag,b),customElements.define(g.tag,g),customElements.define(S.tag,S),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("root")||document.body,t=document.createElement("app-root");e.appendChild(t)})}]);
//# sourceMappingURL=bundle.14f6aee9.js.map